---
---

/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
   sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */

@import
    "vendor/breakpoint/breakpoint",

    "themes",
    "theme/{{ site.site_theme | default: 'default' | append: '_light' }}",
    "theme/{{ site.site_theme | default: 'default' | append: '_dark' }}",

    "include/mixins",
    "vendor/susy/susy",

    "layout/reset",
    "layout/base",

    "include/utilities",
    "layout/tables",
    "layout/buttons",
    "layout/notices",
    "layout/masthead",
    "layout/navigation",
    "layout/footer",
    "syntax",

    "layout/forms",

    "layout/page",
    "layout/archive",
    "layout/sidebar",
    "layout/json_cv",

    "vendor/font-awesome/fontawesome",
    "vendor/font-awesome/solid",
    "vendor/font-awesome/brands"
;



/* 1️. Make the sidebar column full height */
.sidebar.sticky {
    position: relative; /* don't change layout positioning */
    min-height: 100vh; /* full viewport height */
    overflow: hidden;
}

/* 2️. Create a fixed background layer */
.sidebar.sticky::before {
    content: "";
    position: fixed; /* THIS makes it stay while scrolling */
    top: 65px; /* match your header height */
    left: 0;
    width: 320px; /* sidebar width — adjust if needed */
    height: calc(100vh - 65px);
    background-image: url("{{ '/images/bg/SunriseAboutMe.jpg' | relative_url }}");
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    z-index: 0;
}

/* 3. Dark mode overlay */
html[data-theme="dark"] .sidebar.sticky::after {
    content: "";
    position: fixed;
    top: 65px;
    left: 0;
    width: 320px;
    height: calc(100vh - 65px);
    background: rgba(0,0,0,0.55);
    z-index: 0;
}

/* 4️. Ensure sidebar content stays above background */
.sidebar.sticky > * {
    position: relative;
    z-index: 1;
}

/* 5️. Remove inner card backgrounds */
.sidebar .author__avatar,
.sidebar .author__content,
.sidebar .author__urls-wrapper {
    background: transparent !important;
    box-shadow: none !important;
}
