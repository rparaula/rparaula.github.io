---
---

/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
   sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */

@import
    "vendor/breakpoint/breakpoint",

    "themes",
    "theme/{{ site.site_theme | default: 'default' | append: '_light' }}",
    "theme/{{ site.site_theme | default: 'default' | append: '_dark' }}",

    "include/mixins",
    "vendor/susy/susy",

    "layout/reset",
    "layout/base",

    "include/utilities",
    "layout/tables",
    "layout/buttons",
    "layout/notices",
    "layout/masthead",
    "layout/navigation",
    "layout/footer",
    "syntax",

    "layout/forms",

    "layout/page",
    "layout/archive",
    "layout/sidebar",
    "layout/json_cv",

    "vendor/font-awesome/fontawesome",
    "vendor/font-awesome/solid",
    "vendor/font-awesome/brands"
;



/* ---- SETTINGS: match your site ---- */
:root {
    --nav-h: 65px; /* height of top nav */
    --footer-h: 0px; /* set later if you want to stop above footer */
    --left-strip-w: 360px; /* tweak to match your sidebar column area */
}

/* 1) Fixed background strip on the LEFT side only */
body::before {
    content: "";
    position: fixed;
    left: 0;
    top: var(--nav-h);
    width: var(--left-strip-w);
    height: calc(100vh - var(--nav-h) - var(--footer-h));
    background-image: url("/images/sidebar-bg.jpg"); /* or your correct path */
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    z-index: 0; /* behind everything */
    pointer-events: none; /* don't block clicks */
}

/* 2) Overlay strip for readability */
body::after {
    content: "";
    position: fixed;
    left: 0;
    top: var(--nav-h);
    width: var(--left-strip-w);
    height: calc(100vh - var(--nav-h) - var(--footer-h));
    background: rgba(255,255,255,0.15); /* light mode default overlay */
    z-index: 0;
    pointer-events: none;
}

/* 3) Dark mode overlay */
html[data-theme="dark"] body::after {
    background: rgba(0,0,0,0.45);
}

/* 4) Ensure main layout content renders above strip */
#main, .masthead, .page__footer {
    position: relative;
    z-index: 1;
}

/* 5) Make the sidebar itself transparent so the strip shows through */
.sidebar.sticky,
.sidebar .author__avatar,
.sidebar .author__content,
.sidebar .author__urls-wrapper {
    background: transparent !important;
    box-shadow: none !important;
}
