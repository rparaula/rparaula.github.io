---
---

/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
   sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */

@import
    "vendor/breakpoint/breakpoint",

    "themes",
    "theme/{{ site.site_theme | default: 'default' | append: '_light' }}",
    "theme/{{ site.site_theme | default: 'default' | append: '_dark' }}",

    "include/mixins",
    "vendor/susy/susy",

    "layout/reset",
    "layout/base",

    "include/utilities",
    "layout/tables",
    "layout/buttons",
    "layout/notices",
    "layout/masthead",
    "layout/navigation",
    "layout/footer",
    "syntax",

    "layout/forms",

    "layout/page",
    "layout/archive",
    "layout/sidebar",
    "layout/json_cv",

    "vendor/font-awesome/fontawesome",
    "vendor/font-awesome/solid",
    "vendor/font-awesome/brands"
;



/* Make sidebar background extend to the left edge only */
/* Keep the theme layout intact */
.sidebar.sticky {
    position: sticky; /* keep AcademicPages behavior */
    top: 90px; /* adjust (65–110) so it never touches nav */
    z-index: 1; /* make sure it's above the background layer */
}

/* Full-bleed BACKGROUND ONLY (does not affect layout) */
.sidebar.sticky::before {
    content: "";
    position: fixed; /* stays put while scrolling */
    left: 0;
    top: 90px; /* same as sticky top */
    bottom: 0; /* reaches the bottom of viewport */
    width: 33vw; /* controls how wide the left image area is */

    background-image: url("/images/bg/SunriseAboutMe.jpg");
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    z-index: -1; /* sit behind sidebar content */
    pointer-events: none;
}

/* Readability overlay (light mode) */
.sidebar.sticky::after {
    content: "";
    position: fixed;
    left: 0;
    top: 90px;
    bottom: 0;
    width: 33vw;
    background: rgba(255,255,255,0.10);
    z-index: -1;
    pointer-events: none;
}

/* Dark mode overlay */
html[data-theme="dark"] .sidebar.sticky::after {
    background: rgba(0,0,0,0.45);
}

/* Make inner cards transparent so the image shows through */
.sidebar .author__avatar,
.sidebar .author__content,
.sidebar .author__urls-wrapper {
    background: transparent !important;
    box-shadow: none !important;
}

