---
---
/*
 * This file controls what is imported from /_sass
 * The first two lines (---) are required by Jekyll.
 */
@import
"vendor/breakpoint/breakpoint",
"themes",
"theme/{{ site.site_theme | default: 'default' | append: '_light' }}",
"theme/{{ site.site_theme | default: 'default' | append: '_dark' }}",
"include/mixins",
"vendor/susy/susy",
"layout/reset",
"layout/base",
"include/utilities",
"layout/tables",
"layout/buttons",
"layout/notices",
"layout/masthead",
"layout/navigation",
"layout/footer",
"syntax",
"layout/forms",
"layout/page",
"layout/archive",
"layout/sidebar",
"layout/json_cv",
"vendor/font-awesome/fontawesome",
"vendor/font-awesome/solid",
"vendor/font-awesome/brands"
;


/* ======================================================
   SHARED BACKGROUND IMAGE (NAV + SIDEBAR)
====================================================== */

:root {
    --shared-bg: url("/images/bg/SunriseAboutMe.jpg");
}


/* ======================================================
   NAVIGATION BAR (Greedy Nav)
====================================================== */

/* Apply image to the actual nav element */
nav#site-nav.greedy-nav {
    background: var(--shared-bg) center / cover no-repeat !important;
    position: relative;
}

/* Remove theme background colors that hide the image */
nav#site-nav.greedy-nav,
nav#site-nav.greedy-nav * {
    background-color: transparent !important;
}

/* Optional overlay for readability */
nav#site-nav.greedy-nav::after {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.35);
    pointer-events: none;
    z-index: 0;
}

/* Ensure nav content stays above overlay */
nav#site-nav.greedy-nav > * {
    position: relative;
    z-index: 1;
}


/* ======================================================
   SIDEBAR
====================================================== */

.sidebar.sticky {
    position: sticky;
    top: 65px; /* keep below navbar */
    background: var(--shared-bg) center / cover no-repeat;
    border-radius: 18px;
    overflow: hidden;
    position: relative;
}

/* Sidebar overlay */
.sidebar.sticky::before {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.35);
    pointer-events: none;
    z-index: 0;
}

/* Keep sidebar content above overlay */
.sidebar.sticky > * {
    position: relative;
    z-index: 1;
}

/* Let image show through inner sidebar cards */
.sidebar .author__avatar,
.sidebar .author__content,
.sidebar .author__urls-wrapper {
    background: transparent !important;
    box-shadow: none !important;
}


/* ======================================================
   LIGHT MODE ADJUSTMENTS (optional)
====================================================== */

html:not([data-theme="dark"]) nav#site-nav.greedy-nav::after,
html:not([data-theme="dark"]) .sidebar.sticky::before {
    background: rgba(255, 255, 255, 0.08);
}
