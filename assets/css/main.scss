---
---

/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
   sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */

@import
    "vendor/breakpoint/breakpoint",

    "themes",
    "theme/{{ site.site_theme | default: 'default' | append: '_light' }}",
    "theme/{{ site.site_theme | default: 'default' | append: '_dark' }}",

    "include/mixins",
    "vendor/susy/susy",

    "layout/reset",
    "layout/base",

    "include/utilities",
    "layout/tables",
    "layout/buttons",
    "layout/notices",
    "layout/masthead",
    "layout/navigation",
    "layout/footer",
    "syntax",

    "layout/forms",

    "layout/page",
    "layout/archive",
    "layout/sidebar",
    "layout/json_cv",

    "vendor/font-awesome/fontawesome",
    "vendor/font-awesome/solid",
    "vendor/font-awesome/brands"
;



/* 1) Put the background on the whole left column */
.sidebar.sticky {
    position: relative;
    background-image: url("{{ '/images/sidebar-bg.jpg' | relative_url }}");
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    /* make it fill the viewport height */
    min-height: calc(100vh - 65px); /* 65px matches your header offset */
    border-radius: 0; /* full column look */
}

/* 2) Add an overlay so text/icons stay readable */
.sidebar.sticky::before {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.35); /* default (light mode) */
    z-index: 0;
}

/* 3) Ensure all sidebar content renders above the overlay */
.sidebar.sticky > * {
    position: relative;
    z-index: 1;
}

/* 4) Dark mode overlay override (since your site only adds data-theme in dark mode) */
html[data-theme="dark"] .sidebar.sticky::before {
    background: rgba(0, 0, 0, 0.55);
}


