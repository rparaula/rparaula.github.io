---
---

/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
   sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */

@import
    "vendor/breakpoint/breakpoint",

    "themes",
    "theme/{{ site.site_theme | default: 'default' | append: '_light' }}",
    "theme/{{ site.site_theme | default: 'default' | append: '_dark' }}",

    "include/mixins",
    "vendor/susy/susy",

    "layout/reset",
    "layout/base",

    "include/utilities",
    "layout/tables",
    "layout/buttons",
    "layout/notices",
    "layout/masthead",
    "layout/navigation",
    "layout/footer",
    "syntax",

    "layout/forms",

    "layout/page",
    "layout/archive",
    "layout/sidebar",
    "layout/json_cv",

    "vendor/font-awesome/fontawesome",
    "vendor/font-awesome/solid",
    "vendor/font-awesome/brands"
;



/* 1) Put the background on the actual left column */
.sidebar.sticky {
    position: sticky; /* keep the theme behavior */
    top: 65px; /* matches your existing padding-top/header offset */
    height: calc(100vh - 65px); /* fill the rest of the viewport */
    overflow: hidden;
    background-image: url("{{ '/images/bg/SunsetAboutMe.jpg' | relative_url }}");
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}

/* 2) Overlay for readability */
.sidebar.sticky::before {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.35);
    z-index: 0;
}

/* 3) Keep sidebar content above the overlay */
.sidebar.sticky > * {
    position: relative;
    z-index: 1;
}

/* 4) Dark mode overlay (your site only sets data-theme in dark mode) */
html[data-theme="dark"] .sidebar.sticky::before {
    background: rgba(0,0,0,0.55);
}

/* 5) Make inner cards transparent so the background shows through */
.sidebar .author__avatar,
.sidebar .author__content,
.sidebar .author__urls-wrapper {
    background: transparent !important;
    box-shadow: none !important;
}
